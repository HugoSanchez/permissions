{"version":3,"sources":["../node_modules/web3-eth-accounts/src sync","TokenSelector.js","PMDisplay.js","App.js","rootReducer.js","combineReducers.js","serviceWorker.js","index.js"],"names":["webpackEmptyContext","req","e","Error","code","keys","resolve","module","exports","id","Text","Typography","Title","Option","Select","TokenSelector","tokenSelectOpts","onChange","Fragment","level","style","paddingTop","paddingBottom","width","autoFocus","showSearch","marginBottom","placeholder","optionFilterProp","index","filterOption","input","option","props","children","toLowerCase","indexOf","map","label","value","key","Column","Table","Item","Form","formItemLayout","labelCol","xs","span","sm","wrapperCol","rolesMap","PMDisplay","records","revokeRole","assignRole","roles","address","role","useForm","getFieldDecorator","validateFields","resetFields","errors","values","useState","formVisible","setFormVisible","rolesOpts","handleSubmit","a","force","then","console","log","error","display","flexDirection","type","onClick","alignSelf","title","okText","closable","visible","footer","name","rules","required","validator","rule","callback","web3Utils","isAddress","size","dataSource","rowKey","dataIndex","render","text","_split","record","theme","Content","Layout","Header","Sider","PERMISSIONS_FEATURE","networkConfigs","1","polymathRegistryAddress","42","15","Network","networkId","marginRight","marginLeft","0","User","walletAddress","Features","features","pmEnabled","column","status","Object","feat","App","useContext","Store","state","dispatch","AppReducer","sdk","loading","loadingMessage","tokens","tokenIndex","delegates","availableRoles","token","enable","feature","queue","run","result","disable","message","useEffect","browserUtils","getNetworkId","getCurrentAddress","includes","config","Polymath","connect","init","getSecurityTokens","length","getTokens","getStatus","featuresStatus","permissions","getAvailableRoles","getFeaturesStatus","getAllDelegates","getDelegates","delegateAddress","res","i","symbol","reduce","acc","delegate","concat","spinning","tip","backgroundColor","justifyContent","alignItems","padding","showIcon","orientation","rootReducer","reducers","action","hasChanged","nextState","combineReducers","undefined","Boolean","window","location","hostname","match","initialState","createContext","string","split","ReactDOM","store","useReducer","Provider","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.75d50c4f.chunk.js","sourcesContent":["function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 1000;","import React from 'react'\nimport { Select, Typography } from 'antd'\n\nconst { Text, Title } = Typography\nconst { Option } = Select\n\nexport default function TokenSelector({tokenSelectOpts, onChange}) {\n  return (\n    <React.Fragment>\n      <Title level={3}>Please Select a Token</Title>\n      <Text style={{\n        paddingTop: 20,\n        paddingBottom: 20,\n        width: '100%'\n      }}>\n        Once you select a token, you will be able to manage administrators and operators of various Security Token features\n      </Text>\n      <Select\n        autoFocus\n        showSearch\n        style={{\n          width: '100%',\n          marginBottom: 40\n        }}\n        placeholder=\"Select a token\"\n        optionFilterProp=\"children\"\n        onChange={(index) => onChange(index)}\n        filterOption={(input, option) =>\n          option.props.children.toLowerCase().indexOf(input.toLowerCase()) >= 0\n        }\n      >\n        {tokenSelectOpts.map(({label, value}) =>\n          <Option key={value} value={value}>{label}</Option>)}\n      </Select>\n    </React.Fragment>\n  )\n}","import React, {Fragment, useState} from 'react'\nimport { Table, Typography, Button, Icon, Form, Input, Modal, Spin, Select } from 'antd'\nimport useForm from 'rc-form-hooks'\nimport { _split } from './index'\nimport { utils as web3Utils } from 'web3'\n\nconst { Column } = Table\nconst { Text } = Typography\nconst { Item } = Form\nconst { Option } = Select\n\nconst formItemLayout = {\n  labelCol: {\n    xs: { span: 24 },\n    sm: { span: 8 },\n  },\n  wrapperCol: {\n    xs: { span: 24 },\n    sm: { span: 16 },\n  },\n}\nconst rolesMap = {\n  'PermissionsAdministrator': 'Permissions Administrator',\n  'ShareholdersAdministrator' : 'Shareholders Administrator'\n}\n\nexport default function PMDisplay({\n  records,\n  revokeRole,\n  assignRole,\n  roles\n}) {\n  records = records.map(({address, role}) => ({\n    key: address,\n    address: address,\n    role\n  }))\n  const { getFieldDecorator, validateFields, errors, values, resetFields } = useForm()\n  const [formVisible, setFormVisible] = useState(false)\n\n  const rolesOpts = roles.map(role => ({\n    value: role,\n    label: rolesMap[role]\n  }))\n  const handleSubmit = async () => {\n    const fields = ['address', 'role']\n    validateFields(fields, { force: true })\n      .then(async (values) => {\n        console.log(values)\n\n        try {\n          await assignRole(values.address, values.role)\n          resetFields()\n        }\n        catch (error) {\n          console.error(error)\n        }\n      })\n  }\n\n  return (\n    <div style={{display: 'flex', flexDirection: 'column'}}>\n      <Button\n        type=\"primary\"\n        onClick={() => setFormVisible(true)}\n        style={{alignSelf: 'flex-end', marginBottom: 20}}>Assign a role</Button>\n      <Modal\n        title={'Assign a role'}\n        okText=\"Save\"\n        closable={false}\n        visible={formVisible}\n        footer={null}\n      >\n        <Form {...formItemLayout}>\n          <Item name=\"address\" label=\"Address\">\n            {getFieldDecorator('address', {\n              rules: [\n                { required: true  },\n                {\n                  validator: (rule, value, callback) => {\n                    if (!web3Utils.isAddress(value)) {\n                      callback('Address is invalid')\n                      return\n                    }\n                    callback()\n                    return\n                  }\n                }\n              ],\n            })(<Input />)}\n          </Item>\n          <Item name=\"role\" label=\"Role\">\n            {getFieldDecorator('role', {rules: [\n              { required: true  }\n            ]})(<Select>\n              {rolesOpts.map(({value, label}) =>\n                <Option value={value}>{label}</Option>)}\n            </Select>)}\n          </Item>\n          <Item name=\"details\" label=\"Details\">\n            {getFieldDecorator('details')(<Input />)}\n          </Item>\n          <Item>\n            <Button onClick={() => setFormVisible(false)}>Cancel</Button>\n            <Button type=\"primary\" onClick={handleSubmit}>Save</Button>\n          </Item>\n        </Form>\n      </Modal>\n      <Table size=\"middle\" dataSource={records} rowKey={(address, role) => `${address}-${role}`}>\n        <Column\n          title='Address'\n          dataIndex='address'\n          key='address'\n          render={(text) => <Text>{text}</Text>}\n        />\n        <Column\n          title='Role'\n          dataIndex='role'\n          key='role'\n          render={(role) => <Text>{_split(role)}</Text>}\n        />\n        <Column\n          title='Actions'\n          render={(text, record) => {\n            return (\n              <Fragment>\n                <Button onClick={() => revokeRole(record.address, record.role)}>\n                  <Icon type=\"delete\" theme=\"filled\" />\n                </Button>\n              </Fragment>\n            )\n          }}/>\n      </Table>\n    </div>\n  )\n}","import React, { useContext, useEffect, Fragment } from 'react'\nimport { Store } from './index'\nimport { Polymath, browserUtils } from '@polymathnetwork/sdk'\nimport { Layout, Spin, Icon, Typography, Alert, Button, Descriptions, Badge, Divider } from 'antd'\nimport TokenSelector from './TokenSelector'\nimport PMDisplay from './PMDisplay'\nimport { _split } from './index'\nconst { Content, Header, Sider } = Layout\nconst { Text } = Typography\n\nconst PERMISSIONS_FEATURE = 'Permissions'\n\nconst networkConfigs = {\n  1: {\n    polymathRegistryAddress: '0xdfabf3e4793cd30affb47ab6fa4cf4eef26bbc27'\n  },\n  42: {\n    polymathRegistryAddress: '0x5b215a7d39ee305ad28da29bf2f0425c6c2a00b3'\n  },\n  15: {\n    polymathRegistryAddress: '0x9FBDa871d559710256a2502A2517b794B482Db40'\n  }\n}\n\nexport const reducer = (state, action) => {\n  console.log('ACTION', action)\n  switch (action.type) {\n  case 'INITALIZING':\n    return {\n      ...state,\n      loading: true,\n      loadingMessage: 'Initializing Polymath SDK',\n      error: undefined,\n    }\n  case 'INITIALIZED':\n    const { sdk, networkId, walletAddress } = action\n    return {\n      ...state,\n      loading: false,\n      loadingMessage: '',\n      error: undefined,\n      sdk,\n      networkId,\n      walletAddress\n    }\n  case 'ERROR':\n    const { error } = action\n    return {\n      ...state,\n      loading: false,\n      loadingMessage: '',\n      error,\n    }\n  case 'LOADING_TOKENS':\n    return {\n      ...state,\n      loading: true,\n      loadingMessage: 'Loading tokens',\n      error: undefined,\n    }\n  case 'TOKEN_SELECTED':\n    const { tokenIndex } = action\n    return {\n      ...state,\n      tokenIndex,\n      pmEnabled: undefined,\n      error: undefined,\n      features: undefined\n    }\n  case 'LOADING_DELEGATES':\n    return {\n      ...state,\n      loading: true,\n      loadingMessage: 'Loading delegates',\n      error: undefined,\n    }\n  case 'LOADING_FEATURES_STATUS':\n    return {\n      ...state,\n      loading: true,\n      error: undefined,\n      loadingMessage: 'Loading features status'\n    }\n  case 'REMOVING_DELEGATE':\n  case 'ADDING_DELEGATE':\n    const { address } = action\n    return {\n      ...state,\n      error: undefined,\n      address,\n      loading: true,\n      loadingMessage: action.type === 'REMOVING_DELEGATE' ?\n        `Revoking roles of ${address}` :\n        `Adding delegate ${address}`\n    }\n  case 'LOADED_TOKENS':\n  case 'TOGGLED_PM':\n  case 'LOADED_DELEGATES':\n  case 'REMOVED_DELEGATE':\n  case 'ADDED_DELEGATE':\n  case 'LOADED_FEATURES_STATUS':\n    const { type, ...payload } = action\n    return {\n      ...state,\n      ...payload,\n      error: undefined,\n      loading: false,\n      loadingMessage: ''\n    }\n  case 'TOGGLING_PM':\n    return {\n      ...state,\n      error: undefined,\n      loading: true,\n      loadingMessage: 'Toggling permission management'\n    }\n  default:\n    throw new Error(`Unrecognized action type: ${action.type}`)\n  }\n}\n\nfunction Network({networkId}) {\n  const networks = {\n    0: 'Disconnected',\n    1: 'Mainnet',\n    42: 'Kovan'\n  }\n  return (\n    <Fragment>\n      <Icon type=\"global\" style={{\n        marginRight: 10,\n        marginLeft: 20\n      }} />\n      <Text>{networks[networkId]}</Text>\n    </Fragment>\n  )\n}\n\nfunction User({walletAddress}) {\n  if (walletAddress)\n    return (\n      <Fragment>\n        <Icon type=\"user\" style={{\n          marginRight: 5,\n          marginLeft: 10\n        }}/>\n        <Text>{walletAddress}</Text>\n      </Fragment>\n    )\n  return null\n}\n\nfunction Features({features, pmEnabled, onClick}) {\n  return (\n    <Descriptions column={4} style={{marginBottom: 45}}>\n      <Descriptions.Item key='Permissions' label='Permissions'>\n        { pmEnabled\n          ? <Badge status='success' text='enabled' />\n          : <Button type=\"primary\" onClick={onClick}>Enable</Button> }\n      </Descriptions.Item>\n      }\n      {Object.keys(features).map(feat => {\n        return (<Descriptions.Item key={feat} label={_split(feat)}>\n          <Badge status={features[feat] ? 'success' : 'error'} text={features[feat] ? 'enabled' : 'disabled'} />\n        </Descriptions.Item>\n        )}\n      )}\n    </Descriptions> )\n}\n\nfunction App() {\n  const [state, dispatch] = useContext(Store)\n  const {\n    sdk,\n    loading,\n    loadingMessage,\n    walletAddress,\n    error,\n    networkId,\n    tokens,\n    tokenIndex,\n    pmEnabled,\n    delegates,\n    features,\n    availableRoles\n  } = state.AppReducer\n  const token = tokens[tokenIndex]\n\n  // Initialize the SDK.\n  useEffect(() => {\n    async function init() {\n      dispatch({type: 'INITALIZING'})\n\n      try {\n        const networkId = await browserUtils.getNetworkId()\n        const walletAddress = await browserUtils.getCurrentAddress()\n        if (![-1, 1, 42].includes(networkId)) {\n          dispatch({\n            type: 'ERROR',\n            error: 'Please switch to either Main or Kovan network'\n          })\n          return\n        }\n\n        const config = networkConfigs[networkId]\n        const sdk = new Polymath()\n        await sdk.connect(config)\n        dispatch({\n          type: 'INITIALIZED',\n          networkId,\n          sdk,\n          walletAddress,\n        })\n      }\n      catch(error) {\n        dispatch({\n          type: 'ERROR',\n          error: error.message\n        })\n      }\n    }\n    if (!sdk) {\n      init()\n    }\n  }, [dispatch, sdk])\n\n  // Fetch tokens\n  useEffect(() => {\n    async function getTokens(dispatch, sdk, walletAddress) {\n      dispatch({type: 'LOADING_TOKENS'})\n      const tokens = await sdk.getSecurityTokens({ walletAddress })\n      dispatch({type: 'LOADED_TOKENS', tokens})\n    }\n    if (sdk && walletAddress && tokens.length === 0) {\n      getTokens(dispatch, sdk, walletAddress)\n    }\n  }, [walletAddress, sdk, dispatch, tokens])\n\n  // Load features status / available roles\n  useEffect(() => {\n    async function getFeaturesStatus() {\n      dispatch({type: 'LOADING_FEATURES_STATUS'})\n      const featuresStatus = await token.features.getStatus()\n      let availableRoles = []\n      console.log(featuresStatus)\n      const pmEnabled = featuresStatus[PERMISSIONS_FEATURE]\n      delete featuresStatus[PERMISSIONS_FEATURE]\n      if (pmEnabled) {\n        availableRoles = await token.permissions.getAvailableRoles()\n        dispatch({type: 'LOADED_FEATURES_STATUS', availableRoles, features: featuresStatus, pmEnabled})\n      }\n      dispatch({type: 'LOADED_FEATURES_STATUS', availableRoles, features: featuresStatus, pmEnabled})\n    }\n    if (token) {\n      getFeaturesStatus()\n    }\n  }, [pmEnabled, dispatch, token])\n\n  // Load delegates\n  useEffect(() => {\n    async function getDelegates() {\n      dispatch({type: 'LOADING_DELEGATES'})\n      const delegates = await await token.permissions.getAllDelegates()\n      console.log('delegates', delegates)\n      dispatch({type: 'LOADED_DELEGATES', delegates})\n    }\n    if (token && pmEnabled && features) {\n      getDelegates()\n    }\n  }, [pmEnabled, dispatch, token, features])\n\n  const selectToken = (tokenIndex) => {\n    dispatch({type: 'TOKEN_SELECTED', tokenIndex})\n  }\n\n  async function togglePM(enable) {\n    try {\n      dispatch({type: 'TOGGLING_PM'})\n      if (enable) {\n      // Enable module\n        const queue = await token.features.enable({feature: PERMISSIONS_FEATURE})\n        const result = await queue.run()\n        console.log(result)\n      } else {\n      // Disable module\n        const queue = await token.features.disable({feature: PERMISSIONS_FEATURE})\n        const result = await queue.run()\n        console.log(result)\n      }\n      dispatch({type: 'TOGGLED_PM', pmEnabled: !enable})\n    } catch (error) {\n      console.error(error)\n      dispatch({\n        type: 'ERROR',\n        error: error.message\n      })\n    }\n  }\n\n  const revokeRole = async (address, role) => {\n    try {\n      dispatch({type: 'REMOVING_DELEGATE', address})\n      const queue = await token.permissions.revokeRole({ delegateAddress: address, role })\n      console.log(queue)\n      // @FIXME an exception occurs here.\n      const res = await queue.run()\n      console.log('res', res)\n      dispatch({type: 'REMOVED_DELEGATE'})\n    } catch (error) {\n      console.error(error)\n      dispatch({\n        type: 'ERROR',\n        error: error.message\n      })\n    }\n  }\n\n  const assignRole = async (address, role) => {\n    try {\n      dispatch({type: 'ADDING_DELEGATE', address})\n      const queue = await token.permissions.assignRole({ delegateAddress: address, role })\n      console.log(queue)\n      const res = await queue.run()\n      dispatch({type: 'ADDED_DELEGATE'})\n    } catch (error) {\n      console.error(error)\n      dispatch({\n        type: 'ERROR',\n        error: error.message\n      })\n    }\n  }\n\n\n  const tokenSelectOpts = tokens.map((token, i) => ({label: token.symbol, value: i}))\n  const records = delegates.reduce((acc, delegate, i) => {\n    return acc.concat(delegate.roles.map(role => ({\n      address: delegates[i].delegateAddress,\n      role\n    })))\n  }, [])\n\n  return (\n    <div>\n      <Spin spinning={loading} tip={loadingMessage} size=\"large\">\n        <Layout>\n          <Header style={{\n            backgroundColor: 'white',\n            display: 'flex',\n            flexDirection: 'row',\n            justifyContent: 'flex-end',\n            alignItems: 'center'\n          }}>\n            <Network networkId={networkId} />\n            <User walletAddress={walletAddress} />\n          </Header>\n          <Layout>\n            <Sider width={350}\n              style={{\n                padding: 50,\n                backgroundColor: '#FAFDFF'\n              }}\n            >\n              { walletAddress &&\n                <div style={{\n                  display: 'flex',\n                  flexDirection: 'column',\n                  width: 250,\n                  justifyContent: 'flex-start'\n                }}>\n                  <TokenSelector tokenSelectOpts={tokenSelectOpts} onChange={selectToken} />\n                </div>\n              }\n            </Sider>\n            <Content style={{\n              padding: 50,\n              backgroundColor: '#FAFDFF'\n            }}>\n              {error && <Alert\n                message={error}\n                type=\"error\"\n                closable\n                showIcon\n              />}\n              { token && features &&\n                <Fragment>\n                  <Divider orientation=\"left\">Token features</Divider>\n                  <Features features={features} pmEnabled={pmEnabled} onClick={togglePM} />\n                </Fragment> }\n              { token && features && availableRoles && records.length > 0 && <React.Fragment>\n                <Divider orientation=\"left\">Delegates (administrators and operators)</Divider>\n\n                <PMDisplay\n                  records={records}\n                  roles={availableRoles}\n                  revokeRole={revokeRole}\n                  assignRole={assignRole}/>\n              </React.Fragment> }\n            </Content>\n          </Layout>\n        </Layout>\n      </Spin>\n    </div>\n  )\n}\n\nexport default App\n","import combineReducers from './combineReducers'\nimport { reducer as AppReducer } from './App'\nconst rootReducer = combineReducers({AppReducer})\n\nexport default rootReducer","/**\n * @see https://codesandbox.io/s/rm7587n34m?from-embed\n *\n * A size-optimized refactor of Redux's combineReducers.\n * All safeguards removed. Use at your own risk.\n * https://github.com/reduxjs/redux/blob/master/src/combineReducers.js\n */\n\nconst combineReducers = reducers => (state, action) => {\n  let hasChanged\n  const nextState = Object.keys(reducers).reduce((result, key) => {\n    result[key] = reducers[key](state[key], action)\n    hasChanged = hasChanged || result[key] !== state[key]\n    return result\n  }, {})\n  return hasChanged ? nextState : state\n}\n\nexport default combineReducers\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React, {createContext, useReducer} from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport rootReducer from './rootReducer'\nimport * as serviceWorker from './serviceWorker'\n\nconst initialState = {\n  AppReducer: {\n    sdk: undefined,\n    loading: false,\n    loadingMessage: '',\n    error: undefined,\n    networkId: -1,\n    walletAddress: '',\n    tokens: [],\n    tokenIndex: undefined,\n    pmEnabled: undefined,\n    delegates: [],\n    features: undefined\n  }\n}\n\nexport const Store = createContext()\nconst WrappedApp = () => {\n  const store = useReducer(rootReducer, initialState)\n  return (<Store.Provider value={store}><App /></Store.Provider>)\n}\n\nexport const _split = (string) => {\n  return string.split(/(?=[A-Z])/)\n}\n\nReactDOM.render(<WrappedApp />, document.getElementById('root'))\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n"],"sourceRoot":""}